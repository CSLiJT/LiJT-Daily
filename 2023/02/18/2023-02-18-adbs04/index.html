<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/LiJT-Daily/images/favicon32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/LiJT-Daily/images/favicon16.ico">

<link rel="stylesheet" href="/LiJT-Daily/css/main.css">


<link rel="stylesheet" href="/LiJT-Daily/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"cslijt.github.io","root":"/LiJT-Daily/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":{"gitalk":{"order":-1}}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="äº‹åŠ¡å¤„ç†ï¼šæ•…éšœä¸æ¢å¤ &amp; å¹¶å‘æ§åˆ¶">
<meta property="og:type" content="article">
<meta property="og:title" content="é«˜çº§æ•°æ®åº“ç³»ç»ŸçŸ¥è¯†ç‚¹æ€»ç»“ï¼ˆPart 4ï¼‰">
<meta property="og:url" content="https://cslijt.github.io/LiJT-Daily/2023/02/18/2023-02-18-adbs04/index.html">
<meta property="og:site_name" content="LiJTçš„çµè´¨ç©ºé—´">
<meta property="og:description" content="äº‹åŠ¡å¤„ç†ï¼šæ•…éšœä¸æ¢å¤ &amp; å¹¶å‘æ§åˆ¶">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-02-18T12:47:14.000Z">
<meta property="article:modified_time" content="2023-02-20T09:01:18.824Z">
<meta property="article:author" content="LiJT">
<meta property="article:tag" content="æ•°æ®åº“">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://cslijt.github.io/LiJT-Daily/2023/02/18/2023-02-18-adbs04/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>é«˜çº§æ•°æ®åº“ç³»ç»ŸçŸ¥è¯†ç‚¹æ€»ç»“ï¼ˆPart 4ï¼‰ | LiJTçš„çµè´¨ç©ºé—´</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-183507292-2"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-183507292-2');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/LiJT-Daily/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">LiJTçš„çµè´¨ç©ºé—´</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/LiJT-Daily/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-news">

    <a href="/LiJT-Daily/news/" rel="section"><i class="fa fa-bell fa-fw"></i>æ–°é—»</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/LiJT-Daily/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/LiJT-Daily/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/LiJT-Daily/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/LiJT-Daily/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/LiJT-Daily/links/" rel="section"><i class="fas fa-anchor fa-fw"></i>å‹é“¾</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://cslijt.github.io/LiJT-Daily/2023/02/18/2023-02-18-adbs04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/LiJT-Daily/images/avatar.jpg">
      <meta itemprop="name" content="LiJT">
      <meta itemprop="description" content="LiJTçš„çµè´¨ç©ºé—´">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LiJTçš„çµè´¨ç©ºé—´">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          é«˜çº§æ•°æ®åº“ç³»ç»ŸçŸ¥è¯†ç‚¹æ€»ç»“ï¼ˆPart 4ï¼‰
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-02-18 20:47:14" itemprop="dateCreated datePublished" datetime="2023-02-18T20:47:14+08:00">2023-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-02-20 17:01:18" itemprop="dateModified" datetime="2023-02-20T17:01:18+08:00">2023-02-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/LiJT-Daily/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ ç¬”è®°</span></a>
                </span>
            </span>

          
            <span id="/LiJT-Daily/2023/02/18/2023-02-18-adbs04/" class="post-meta-item leancloud_visitors" data-flag-title="é«˜çº§æ•°æ®åº“ç³»ç»ŸçŸ¥è¯†ç‚¹æ€»ç»“ï¼ˆPart 4ï¼‰" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>3.4k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>3 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>äº‹åŠ¡å¤„ç†ï¼šæ•…éšœä¸æ¢å¤ &amp; å¹¶å‘æ§åˆ¶</p>
<span id="more"></span>
<h2 id="äº‹åŠ¡å¤„ç†I-æ•…éšœä¸æ¢å¤"><a href="#äº‹åŠ¡å¤„ç†I-æ•…éšœä¸æ¢å¤" class="headerlink" title="äº‹åŠ¡å¤„ç†I: æ•…éšœä¸æ¢å¤"></a>äº‹åŠ¡å¤„ç†I: æ•…éšœä¸æ¢å¤</h2><p>é‡ç‚¹å†…å®¹ï¼š</p>
<ol>
<li>æ•°æ®åº“çš„ä¸€è‡´æ€§æ¦‚å¿µ</li>
<li>äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µã€ACIDå’ŒåŸå­æ“ä½œ</li>
<li>Undoæ—¥å¿—ã€Redoæ—¥å¿—ã€Undo/Redoæ—¥å¿—çš„æ¢å¤è¿‡ç¨‹</li>
<li>Checkpoint</li>
</ol>
<h3 id="æ•°æ®åº“ä¸€è‡´æ€§"><a href="#æ•°æ®åº“ä¸€è‡´æ€§" class="headerlink" title="æ•°æ®åº“ä¸€è‡´æ€§"></a>æ•°æ®åº“ä¸€è‡´æ€§</h3><ul>
<li>æ•°æ®åº“ä¸€è‡´æ€§æ˜¯æŒ‡äº‹åŠ¡æ‰§è¡Œçš„ç»“æœå¿…é¡»æ˜¯ä½¿å¾—æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€è½¬å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€</li>
<li>ä¿è¯æ•°æ®åº“ä¸€è‡´æ€§æ˜¯æŒ‡å½“äº‹åŠ¡å®Œæˆæ—¶ï¼Œå¿…é¡»ä½¿æ‰€æœ‰æ•°æ®éƒ½å…·æœ‰ä¸€è‡´çš„çŠ¶æ€</li>
</ul>
<h3 id="äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µã€ACIDå’ŒåŸå­æ“ä½œ"><a href="#äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µã€ACIDå’ŒåŸå­æ“ä½œ" class="headerlink" title="äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µã€ACIDå’ŒåŸå­æ“ä½œ"></a>äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µã€ACIDå’ŒåŸå­æ“ä½œ</h3><ol>
<li>äº‹åŠ¡ï¼šä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ“ä½œåºåˆ—ï¼Œå…¶ä¸­çš„æ“ä½œè¦ä¹ˆè¯»åšï¼Œè¦ä¹ˆéƒ½ä¸åš</li>
</ol>
<h4 id="äº‹åŠ¡çš„ACIDæ€§è´¨"><a href="#äº‹åŠ¡çš„ACIDæ€§è´¨" class="headerlink" title="äº‹åŠ¡çš„ACIDæ€§è´¨"></a>äº‹åŠ¡çš„ACIDæ€§è´¨</h4><ol>
<li>åŸå­æ€§ Atomicity</li>
<li>ä¸€è‡´æ€§ Consistency</li>
<li>éš”ç¦»æ€§ Isolation</li>
<li>æŒä¹…æ€§ Durability</li>
</ol>
<h4 id="äº‹åŠ¡çš„åŸå­æ“ä½œ"><a href="#äº‹åŠ¡çš„åŸå­æ“ä½œ" class="headerlink" title="äº‹åŠ¡çš„åŸå­æ“ä½œ"></a>äº‹åŠ¡çš„åŸå­æ“ä½œ</h4><ol>
<li>ç£ç›˜ &lt;-&gt; å†…å­˜<ol>
<li><code>input(x)</code>: disk block with x -&gt; memory</li>
<li><code>output(x)</code>: buffer block with x -&gt; disk</li>
</ol>
</li>
<li>å†…å­˜ &lt;-&gt; å†…å­˜ (å¿…è¦æ—¶ï¼Œç£ç›˜ -&gt; å†…å­˜ &lt;-&gt; å†…å­˜)<ol>
<li><code>read(x,t)</code>: do input(x) if necessary; t &lt;- value of x in buffer</li>
<li><code>write(x,t)</code>: do input(x) if necessary; value of x in buffer &lt;- t</li>
</ol>
</li>
</ol>
<h3 id="Undoã€Redoã€Undo-Redoæ—¥å¿—"><a href="#Undoã€Redoã€Undo-Redoæ—¥å¿—" class="headerlink" title="Undoã€Redoã€Undo/Redoæ—¥å¿—"></a>Undoã€Redoã€Undo/Redoæ—¥å¿—</h3><ol>
<li>äº‹åŠ¡æ—¥å¿—è®°å½•äº†æ‰€æœ‰æ›´æ–°æ“ä½œçš„å…·ä½“ç»†èŠ‚</li>
<li>æ—¥å¿—æ–‡ä»¶çš„ç™»è®°ä¸¥æ ¼æŒ‰äº‹åŠ¡æ‰§è¡Œçš„æ—¶é—´æ¬¡åº</li>
</ol>
<h4 id="Undoæ—¥å¿—è§„åˆ™"><a href="#Undoæ—¥å¿—è§„åˆ™" class="headerlink" title="Undoæ—¥å¿—è§„åˆ™"></a>Undoæ—¥å¿—è§„åˆ™</h4><ol>
<li>äº‹åŠ¡çš„æ¯ä¸€ä¸ªä¿®æ”¹æ“ä½œéƒ½ç”Ÿæˆä¸€ä¸ªæ—¥å¿—è®°å½• &lt; T, x, old-value &gt;</li>
<li>WALï¼šå…ˆå†™æ—¥å¿—ï¼Œåœ¨Xè¢«å†™åˆ°ç£ç›˜ä¹‹å‰ï¼Œå¯¹åº”è¯¥ä¿®æ”¹çš„æ—¥å¿—è®°å½•å¿…é¡»å·²è¢«å†™åˆ°ç£ç›˜ä¸Š</li>
<li>äº‹åŠ¡çš„æ‰€æœ‰ä¿®æ”¹ç»“æœéƒ½å·²ç»å†™å…¥ç£ç›˜<strong>ä¹‹å</strong>ï¼Œå°† &lt; commit, T &gt;æ—¥å¿—è®°å½•å†™åˆ°ç£ç›˜ä¸Š</li>
<li>æ¢å¤æ—¶å¿½ç•¥å·²æäº¤äº‹åŠ¡ï¼Œåªæ’¤é”€æœªæäº¤äº‹åŠ¡</li>
<li>ä»<strong>å°¾éƒ¨</strong>å¼€å§‹æ‰«ææ—¥å¿—è®°å½•&lt; T,x,v &gt;ï¼Œå¦‚æœTæ²¡æœ‰commitè¿‡æˆ–è€…å·²ç»abortï¼Œåˆ™ï¼š<ol>
<li>write(x,v)</li>
<li>output(x)</li>
<li>åå‘æ‰«æç»“æŸåï¼Œå¯¹äºæ‰€æœ‰æœªcommitè¿‡çš„äº‹åŠ¡ï¼Œå†™å…¥&lt; abort, T &gt;</li>
</ol>
</li>
</ol>
<h4 id="Redoæ—¥å¿—è§„åˆ™"><a href="#Redoæ—¥å¿—è§„åˆ™" class="headerlink" title="Redoæ—¥å¿—è§„åˆ™"></a>Redoæ—¥å¿—è§„åˆ™</h4><ol>
<li>äº‹åŠ¡çš„æ¯ä¸€ä¸ªä¿®æ”¹æ“ä½œéƒ½ç”Ÿæˆä¸€ä¸ªæ—¥å¿—è®°å½• &lt; T, x, new-value &gt;</li>
<li>WALï¼šå…ˆå†™æ—¥å¿—ï¼Œåœ¨Xè¢«å†™åˆ°ç£ç›˜ä¹‹å‰ï¼Œå¯¹åº”è¯¥ä¿®æ”¹çš„æ—¥å¿—è®°å½•å¿…é¡»å·²è¢«å†™åˆ°ç£ç›˜ä¸Š</li>
<li>äº‹åŠ¡çš„ä¿®æ”¹ç»“æœå†™å…¥ç£ç›˜<strong>ä¹‹å‰</strong>ï¼Œå°† &lt; commit, T &gt;æ—¥å¿—è®°å½•å†™åˆ°ç£ç›˜ä¸Š</li>
<li>ä»<strong>é¦–éƒ¨</strong>å¼€å§‹æ‰«ææ—¥å¿—è®°å½•&lt; T,x,v &gt;ï¼Œå¦‚æœTå·²ç»commitè¿‡ï¼Œåˆ™<ol>
<li>write(x,v)</li>
<li>output(x)</li>
<li>æ­£å‘æ‰«æç»“æŸåï¼Œå¯¹äºæ‰€æœ‰æœªcommitè¿‡çš„äº‹åŠ¡ï¼Œå†™å…¥&lt; abort, T &gt;</li>
</ol>
</li>
</ol>
<h4 id="Undo-vs-Redo"><a href="#Undo-vs-Redo" class="headerlink" title="Undo vs. Redo"></a>Undo vs. Redo</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">é¡¹ç›®</th>
<th style="text-align:left">Undo</th>
<th style="text-align:left">Redo</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">æ›´æ–°æ—¶é—´</td>
<td style="text-align:left">ç«‹å³æ›´æ–°ï¼ˆä¹è§‚ï¼‰</td>
<td style="text-align:left">å»¶è¿Ÿæ›´æ–°ï¼ˆæ‚²è§‚ï¼‰</td>
</tr>
<tr>
<td style="text-align:left">å†…å­˜ä»£ä»·</td>
<td style="text-align:left">ä½</td>
<td style="text-align:left">é«˜</td>
</tr>
<tr>
<td style="text-align:left">æ¢å¤ä»£ä»·</td>
<td style="text-align:left">é«˜</td>
<td style="text-align:left">ä½</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Undo-Redoæ—¥å¿—è§„åˆ™"><a href="#Undo-Redoæ—¥å¿—è§„åˆ™" class="headerlink" title="Undo/Redoæ—¥å¿—è§„åˆ™"></a>Undo/Redoæ—¥å¿—è§„åˆ™</h4><ol>
<li>åœ¨xè¢«å†™åˆ°ç£ç›˜ä¹‹å‰ï¼Œå¯¹åº”è¯¥ä¿®æ”¹çš„æ—¥å¿—è®°å½•å¿…é¡»å·²è¢«å†™åˆ°ç£ç›˜ä¸Šï¼ˆWALï¼‰</li>
<li>æ—¥å¿—ä¸­çš„æ•°æ®ä¿®æ”¹è®°å½•ï¼š&lt; T, x, v, w &gt;<ol>
<li>v: old value; w: new value</li>
</ol>
</li>
<li>åŸºäºUndo/Redoæ—¥å¿—çš„æ¢å¤<ol>
<li>æ­£å‘æ‰«ææ—¥å¿—ï¼Œå°†commitçš„äº‹åŠ¡æ”¾å…¥Redoåˆ—è¡¨ä¸­ï¼Œå°†æ²¡æœ‰ç»“æŸçš„äº‹åŠ¡æ”¾å…¥Undoåˆ—è¡¨</li>
<li>åå‘æ‰«ææ—¥å¿—ï¼Œå¯¹äº&lt; T, x, v, w &gt;ï¼Œè‹¥Tåœ¨Undoåˆ—è¡¨ä¸­ï¼Œåˆ™<ol>
<li>write(x,v); output(x)</li>
</ol>
</li>
<li>æ­£å‘æ‰«ææ—¥å¿—ï¼Œå¯¹äº&lt; T, x, v, w &gt;ï¼Œè‹¥Tåœ¨Redoåˆ—è¡¨ä¸­ï¼Œåˆ™<ol>
<li>write(x,w); output(x)</li>
</ol>
</li>
<li>å¯¹äºUndoåˆ—è¡¨ä¸­çš„Tï¼Œå†™å…¥&lt; abort, T &gt;</li>
</ol>
</li>
</ol>
<h3 id="æ£€æŸ¥ç‚¹-checkpoint"><a href="#æ£€æŸ¥ç‚¹-checkpoint" class="headerlink" title="æ£€æŸ¥ç‚¹(checkpoint)"></a>æ£€æŸ¥ç‚¹(checkpoint)</h3><ol>
<li>æå‡ºèƒŒæ™¯ï¼šå½“ç³»ç»Ÿæ•…éšœå‘ç”Ÿæ—¶ï¼Œå¿…é¡»æ‰«ææ—¥å¿—ã€‚éœ€è¦æœç´¢æ•´ä¸ªæ—¥å¿—æ¥ç¡®å®šundoåˆ—è¡¨å’Œredoåˆ—è¡¨<ol>
<li>æœç´¢è¿‡ç¨‹å¤ªè€—æ—¶</li>
<li>redoåˆ—è¡¨å¾ˆå¤§ï¼Œä½¿å¾—æ¢å¤è¿‡ç¨‹å˜å¾—å¾ˆé•¿ï¼ˆæ‰€æœ‰æˆåŠŸcommitçš„äº‹åŠ¡éƒ½è¦redoä¸€éï¼›æ¯ä¸ªäº‹åŠ¡å¯èƒ½æ¶‰åŠå¤§é‡å€¼æ›´æ–°æ“ä½œï¼‰</li>
</ol>
</li>
<li>æ£€æŸ¥ç‚¹æŠ€æœ¯ä¿è¯æ£€æŸ¥ç‚¹ä¹‹å‰çš„æ‰€æœ‰commitæ“ä½œçš„ç»“æœå·²ç»å†™å›æ•°æ®åº“ï¼Œåœ¨æ¢å¤æ—¶ä¸éœ€è¦redo</li>
</ol>
<h2 id="äº‹åŠ¡å¤„ç†II-å¹¶å‘æ§åˆ¶"><a href="#äº‹åŠ¡å¤„ç†II-å¹¶å‘æ§åˆ¶" class="headerlink" title="äº‹åŠ¡å¤„ç†II: å¹¶å‘æ§åˆ¶"></a>äº‹åŠ¡å¤„ç†II: å¹¶å‘æ§åˆ¶</h2><p>é‡ç‚¹å†…å®¹ï¼š</p>
<ol>
<li>å¯ä¸²æ€§ã€å†²çªå¯ä¸²æ€§çš„æ¦‚å¿µ</li>
<li>å†²çªå¯ä¸²æ€§çš„åˆ¤å®š</li>
<li>é”</li>
<li>è§†å›¾å¯ä¸²æ€§</li>
<li>æ­»é”</li>
<li>ä¹è§‚å¹¶å‘æ§åˆ¶æŠ€æœ¯</li>
</ol>
<h3 id="å¹¶å‘æ§åˆ¶é¢ä¸´çš„é—®é¢˜"><a href="#å¹¶å‘æ§åˆ¶é¢ä¸´çš„é—®é¢˜" class="headerlink" title="å¹¶å‘æ§åˆ¶é¢ä¸´çš„é—®é¢˜"></a>å¹¶å‘æ§åˆ¶é¢ä¸´çš„é—®é¢˜</h3><ol>
<li>ä¸¢å¤±æ›´æ–°</li>
<li>è„è¯»</li>
<li>ä¸ä¸€è‡´åˆ†æ<ol>
<li>ä¸å¯é‡å¤è¯»</li>
<li>å¹»è¯»</li>
</ol>
</li>
</ol>
<h3 id="å¹¶å‘è°ƒåº¦ä¸å¯ä¸²æ€§"><a href="#å¹¶å‘è°ƒåº¦ä¸å¯ä¸²æ€§" class="headerlink" title="å¹¶å‘è°ƒåº¦ä¸å¯ä¸²æ€§"></a>å¹¶å‘è°ƒåº¦ä¸å¯ä¸²æ€§</h3><ol>
<li>è°ƒåº¦çš„å®šä¹‰ï¼šå¤šä¸ªäº‹åŠ¡çš„è¯»å†™æ“ä½œæŒ‰æ—¶é—´æ’åºçš„æ‰§è¡Œåºåˆ—. ä¾‹å¦‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">T1: r1(A)w1(A)r1(B)w1(B)</span><br><span class="line">T2: r2(A)w2(A)r2(B)w2(B)</span><br><span class="line">Sc = r1(A)w1(A)r1(B)w1(B)r2(A)w2(A)r2(B)w2(B)</span><br></pre></td></tr></table></figure>
<ol>
<li>è°ƒåº¦ä¸­çš„æ¯ä¸ªäº‹åŠ¡çš„è¯»å†™æ“ä½œä¿æŒåŸæ¥é¡ºåº</li>
<li>äº‹åŠ¡è°ƒåº¦æ—¶ä¸è€ƒè™‘æ•°æ®åº“çš„åˆå§‹çŠ¶æ€å’Œäº‹åŠ¡çš„è¯­ä¹‰</li>
</ol>
</li>
<li>å¯ä¸²åŒ–è°ƒåº¦ï¼šå¦‚æœä¸€ä¸ªè°ƒåº¦çš„ç»“æœä¸æŸä¸€ä¸²è¡Œè°ƒåº¦æ‰§è¡Œçš„ç»“æœç­‰ä»·ï¼Œåˆ™ç§°è¯¥è°ƒåº¦æ˜¯å¯ä¸²åŒ–è°ƒåº¦ï¼Œå¦åˆ™æ˜¯ä¸å¯ä¸²è°ƒåº¦</li>
</ol>
<h3 id="å†²çªå¯ä¸²æ€§"><a href="#å†²çªå¯ä¸²æ€§" class="headerlink" title="å†²çªå¯ä¸²æ€§"></a>å†²çªå¯ä¸²æ€§</h3><ol>
<li>å†²çªæ“ä½œï¼šæ¶‰åŠåŒä¸€ä¸ªæ•°æ®åº“å…ƒç´ ï¼Œå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯å†™æ“ä½œ<ol>
<li>r1(A)&lt;-&gt;w2(A)</li>
<li>w2(A)&lt;-&gt;r1(A)</li>
<li>w1(A)&lt;-&gt;w2(A)</li>
</ol>
</li>
<li>å†²çªæ“ä½œä¸å¯äº¤æ¢ï¼›ä¸å†²çªæ“ä½œå¯äº¤æ¢</li>
<li>å†²çªç­‰ä»·ï¼šç§°è°ƒåº¦S1å’Œè°ƒåº¦S2æ˜¯å†²çªç­‰ä»·çš„ï¼Œå¦‚æœS1å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—éå†²çªäº¤æ¢è½¬æ¢åˆ°S2.</li>
<li>å®šç†ï¼šå¦‚æœä¸€ä¸ªè°ƒåº¦æ»¡è¶³å†²çªå¯ä¸²æ€§ï¼Œåˆ™è¯¥è°ƒåº¦æ˜¯å¯ä¸²åŒ–è°ƒåº¦</li>
</ol>
<h3 id="ä¼˜å…ˆå›¾"><a href="#ä¼˜å…ˆå›¾" class="headerlink" title="ä¼˜å…ˆå›¾"></a>ä¼˜å…ˆå›¾</h3><ol>
<li>ä¼˜å…ˆå›¾ç”¨äºå†²çªå¯ä¸²æ€§çš„åˆ¤æ–­</li>
<li>ä¼˜å…ˆå›¾çš„ç»“æ„<ol>
<li>èŠ‚ç‚¹ï¼šäº‹åŠ¡</li>
<li>æœ‰å‘è¾¹ï¼šTi-&gt;Tj,æ»¡è¶³Ti<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.355ex" xmlns="http://www.w3.org/2000/svg" width="2.698ex" height="1.577ex" role="img" focusable="false" viewBox="0 -540 1192.6 697.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mo"><path data-c="3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></g><g data-mml-node="mi" transform="translate(811,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></svg></mjx-container>Tj<ol>
<li>å­˜åœ¨Tiä¸­çš„æ“ä½œA1å’ŒTjä¸­çš„æ“ä½œA2ï¼Œæ»¡è¶³A1åœ¨A2å‰å¹¶ä¸”A1å’ŒA2æ˜¯å†²çªæ“ä½œ</li>
</ol>
</li>
</ol>
</li>
<li>å®šç†ï¼šç»™å®šä¸€ä¸ªè°ƒåº¦Sæ„é€ Sçš„ä¼˜å…ˆå›¾P(S)ï¼Œå¦‚æœP(S)æ— ç¯ï¼Œåˆ™Sæ»¡è¶³å†²çªå¯ä¸²æ€§</li>
</ol>
<h3 id="è§†å›¾å¯ä¸²æ€§"><a href="#è§†å›¾å¯ä¸²æ€§" class="headerlink" title="è§†å›¾å¯ä¸²æ€§"></a>è§†å›¾å¯ä¸²æ€§</h3><ol>
<li>å†²çªå¯ä¸²æ€§è¿‡äºä¸¥æ ¼ï¼ŒåŸæœ¬å¯ä¸²çš„Sä¸ä¸€å®šå†²çªå¯ä¸²ã€‚è§†å›¾å¯ä¸²è§£å†³è¿™ä¸€é—®é¢˜</li>
<li>è°ƒåº¦S1å’ŒS2è§†å›¾ç­‰ä»·ï¼Œå¦‚æœï¼š<ol>
<li>If in S1: wj(A)-&gt;ri(A)(ä¸­é—´æ— ä»»ä½•w(A)); then in S2: wj(A)-&gt;ri(A)</li>
<li>If in S1: ri(A) reads initial DB value; then in S2: ri(A) also reads initial DB value</li>
<li>IF in S1: Ti does last write on A; then in S2: Ti also does last write on A</li>
</ol>
</li>
<li>è§†å›¾å¯ä¸²æ˜¯å†²çªå¯ä¸²çš„å¿…è¦ä¸å……åˆ†æ¡ä»¶</li>
</ol>
<h3 id="é”æœºåˆ¶"><a href="#é”æœºåˆ¶" class="headerlink" title="é”æœºåˆ¶"></a>é”æœºåˆ¶</h3><ol>
<li>ç”¨é€”ï¼šç”¨äºå®ç°å¯ä¸²åŒ–è°ƒåº¦</li>
</ol>
<h4 id="ä¸¤é˜¶æ®µé”ï¼ˆ2PLï¼‰"><a href="#ä¸¤é˜¶æ®µé”ï¼ˆ2PLï¼‰" class="headerlink" title="ä¸¤é˜¶æ®µé”ï¼ˆ2PLï¼‰"></a>ä¸¤é˜¶æ®µé”ï¼ˆ2PLï¼‰</h4><ol>
<li>äº‹åŠ¡åœ¨å¯¹ä»»ä½•æ•°æ®è¿›è¡Œè¯»å†™ä¹‹å‰ï¼Œé¦–å…ˆè¦è·å¾—è¯¥æ•°æ®ä¸Šçš„é”</li>
<li>åœ¨é‡Šæ”¾ä¸€ä¸ªé”ä¹‹åï¼Œäº‹åŠ¡ä¸å†è·å¾—ä»»ä½•é”</li>
<li>å®šç†ï¼šå¦‚æœä¸€ä¸ªè°ƒåº¦Sä¸­çš„æ‰€æœ‰äº‹åŠ¡éƒ½æ˜¯ä¸¤æ®µå¼äº‹åŠ¡ï¼Œåˆ™è¯¥è°ƒåº¦æ˜¯å¯ä¸²åŒ–è°ƒåº¦</li>
<li>ç¼ºç‚¹ï¼šå¦‚æœäº‹åŠ¡Tåªæ˜¯è¯»å–Xï¼Œä¹Ÿå¿…é¡»åŠ é”ï¼Œè€Œä¸”é‡Šæ”¾é”ä¹‹å‰å…¶ä»–äº‹åŠ¡æ— æ³•å¯¹Xè¿›è¡Œæ“ä½œï¼Œå½±å“æ•°æ®åº“çš„å¹¶å‘æ€§. è§£å†³æ–¹æ³•ï¼šå¼•å…¥ä¸åŒçš„é”ï¼šS lock, X lock, Update lock, â€¦</li>
</ol>
<h4 id="X-Lock"><a href="#X-Lock" class="headerlink" title="X Lock"></a>X Lock</h4><ol>
<li>X lock: exclusive locks, ä¹Ÿç§°å†™é”</li>
<li>åªæœ‰è·å¾—Xé”çš„äº‹åŠ¡ï¼Œæ‰èƒ½å¯¹å°é”çš„æ•°æ®è¿›è¡Œ<strong>ä¿®æ”¹</strong>. å…¶ä»–äº‹åŠ¡ä¸èƒ½è·å–Xé”ï¼Œä¹Ÿä¸èƒ½è·å–Sé”</li>
</ol>
<h4 id="S-Lock"><a href="#S-Lock" class="headerlink" title="S Lock"></a>S Lock</h4><ol>
<li>S lock: share locks, ä¹Ÿç§°è¯»é”</li>
<li>å¦‚æœäº‹åŠ¡Tå¯¹æ•°æ®RåŠ äº†Sé”ï¼Œåˆ™å…¶ä»–äº‹åŠ¡å¯¹Rçš„Xé”è¯·æ±‚ä¸èƒ½æˆåŠŸï¼Œä½†å¯¹Rçš„Sé”è¯·æ±‚å¯ä»¥æˆåŠŸ</li>
<li>å½“äº‹åŠ¡è·å¾—Sé”åï¼Œå¦‚æœè¦å¯¹æ•°æ®Rè¿›è¡Œä¿®æ”¹ï¼Œåˆ™å¿…é¡»åœ¨ä¿®æ”¹å‰æ‰§è¡ŒUpgrade(R)ï¼Œå°†Sé”å‡çº§ä¸ºXé”ï¼ˆå‡å˜ï¼Ÿï¼ï¼‰</li>
</ol>
<h4 id="Update-lock"><a href="#Update-lock" class="headerlink" title="Update lock"></a>Update lock</h4><ol>
<li>å¦‚æœäº‹åŠ¡å–å¾—äº†æ•°æ®Rä¸Šçš„æ›´æ–°é”ï¼Œåˆ™å¯ä»¥è¯»Rï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»¥åå‡çº§ä¸ºXé”ï¼ˆä¸Šä¸€å°èŠ‚çš„Sé”çš„å¯å‡å˜ç‰ˆæœ¬ï¼‰</li>
<li>å•çº¯çš„Sé”ä¸èƒ½å‡çº§ä¸ºRé”</li>
<li>å¦‚æœäº‹åŠ¡æŒæœ‰äº†Rä¸Šçš„Update lockï¼Œåˆ™å…¶ä»–äº‹åŠ¡ä¸èƒ½å–åˆ°Rä¸Šçš„Sé”ã€Xé”ï¼Œä»¥åŠUpdateé”</li>
<li>å¦‚æœäº‹åŠ¡æŒæœ‰äº†Rä¸Šçš„Sé”ï¼Œåˆ™å…¶ä»–äº‹åŠ¡å¯ä»¥è·å–Rä¸Šçš„Update lock</li>
</ol>
<h4 id="Sé”ã€Xé”ã€Updateé”çš„ç›¸å®¹æ€§"><a href="#Sé”ã€Xé”ã€Updateé”çš„ç›¸å®¹æ€§" class="headerlink" title="Sé”ã€Xé”ã€Updateé”çš„ç›¸å®¹æ€§"></a>Sé”ã€Xé”ã€Updateé”çš„ç›¸å®¹æ€§</h4><blockquote>
<p>Y è¡¨ç¤ºç›¸å®¹ï¼›Nè¡¨ç¤ºä¸ç›¸å®¹</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">T1 holds\T2 requrests</th>
<th style="text-align:left">S</th>
<th style="text-align:left">X</th>
<th style="text-align:left">U</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">S</td>
<td style="text-align:left">Y</td>
<td style="text-align:left">N</td>
<td style="text-align:left">Y</td>
</tr>
<tr>
<td style="text-align:left">X</td>
<td style="text-align:left">N</td>
<td style="text-align:left">N</td>
<td style="text-align:left">N</td>
</tr>
<tr>
<td style="text-align:left">U</td>
<td style="text-align:left">N</td>
<td style="text-align:left">N</td>
<td style="text-align:left">N</td>
</tr>
</tbody>
</table>
</div>
<section class="post-full-comments">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <div id="gitalk-container"></div>
    <script>
        var gitalk = new Gitalk({
            clientID: 'e1bbf465a324641f76ce',
            clientSecret: 'b865ad952a6494eb48283884abbe479d3f89f4a4',
            repo: 'LiJT-Daily-Comments',
            owner: 'CSLiJT',
            admin: ['CSLiJT'], //è¿™é‡Œå¯ä»¥å¡«å†™å…·æœ‰å†™æƒé™çš„ç”¨æˆ·ååˆ—è¡¨ï¼Œç”¨æ¥åˆå§‹åŒ–Issuesçš„
            id: document.title+document.date,
            distractionFreeMode: false // Facebook-like distraction free mode
        });
        gitalk.render('gitalk-container');
    </script>
</section>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/LiJT-Daily/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag"># æ•°æ®åº“</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/LiJT-Daily/2023/02/17/2023-02-17-adbs03/" rel="prev" title="é«˜çº§æ•°æ®åº“ç³»ç»ŸçŸ¥è¯†ç‚¹æ€»ç»“ï¼ˆPart 3ï¼‰">
      <i class="fa fa-chevron-left"></i> é«˜çº§æ•°æ®åº“ç³»ç»ŸçŸ¥è¯†ç‚¹æ€»ç»“ï¼ˆPart 3ï¼‰
    </a></div>
      <div class="post-nav-item">
    <a href="/LiJT-Daily/2023/02/21/2023-02-21-guitar/" rel="next" title="è‡ªç¼–æ›²çš„å‰ä»–æŒ‡å¼¹Â·Long long ago, 20th century">
      è‡ªç¼–æ›²çš„å‰ä»–æŒ‡å¼¹Â·Long long ago, 20th century <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86I-%E6%95%85%E9%9A%9C%E4%B8%8E%E6%81%A2%E5%A4%8D"><span class="nav-number">1.</span> <span class="nav-text">äº‹åŠ¡å¤„ç†I: æ•…éšœä¸æ¢å¤</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%80%E8%87%B4%E6%80%A7"><span class="nav-number">1.1.</span> <span class="nav-text">æ•°æ®åº“ä¸€è‡´æ€§</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E3%80%81ACID%E5%92%8C%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C"><span class="nav-number">1.2.</span> <span class="nav-text">äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µã€ACIDå’ŒåŸå­æ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84ACID%E6%80%A7%E8%B4%A8"><span class="nav-number">1.2.1.</span> <span class="nav-text">äº‹åŠ¡çš„ACIDæ€§è´¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C"><span class="nav-number">1.2.2.</span> <span class="nav-text">äº‹åŠ¡çš„åŸå­æ“ä½œ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Undo%E3%80%81Redo%E3%80%81Undo-Redo%E6%97%A5%E5%BF%97"><span class="nav-number">1.3.</span> <span class="nav-text">Undoã€Redoã€Undo&#x2F;Redoæ—¥å¿—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Undo%E6%97%A5%E5%BF%97%E8%A7%84%E5%88%99"><span class="nav-number">1.3.1.</span> <span class="nav-text">Undoæ—¥å¿—è§„åˆ™</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Redo%E6%97%A5%E5%BF%97%E8%A7%84%E5%88%99"><span class="nav-number">1.3.2.</span> <span class="nav-text">Redoæ—¥å¿—è§„åˆ™</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Undo-vs-Redo"><span class="nav-number">1.3.3.</span> <span class="nav-text">Undo vs. Redo</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Undo-Redo%E6%97%A5%E5%BF%97%E8%A7%84%E5%88%99"><span class="nav-number">1.3.4.</span> <span class="nav-text">Undo&#x2F;Redoæ—¥å¿—è§„åˆ™</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E7%82%B9-checkpoint"><span class="nav-number">1.4.</span> <span class="nav-text">æ£€æŸ¥ç‚¹(checkpoint)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86II-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6"><span class="nav-number">2.</span> <span class="nav-text">äº‹åŠ¡å¤„ç†II: å¹¶å‘æ§åˆ¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E9%9D%A2%E4%B8%B4%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">2.1.</span> <span class="nav-text">å¹¶å‘æ§åˆ¶é¢ä¸´çš„é—®é¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6%E4%B8%8E%E5%8F%AF%E4%B8%B2%E6%80%A7"><span class="nav-number">2.2.</span> <span class="nav-text">å¹¶å‘è°ƒåº¦ä¸å¯ä¸²æ€§</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%B2%E7%AA%81%E5%8F%AF%E4%B8%B2%E6%80%A7"><span class="nav-number">2.3.</span> <span class="nav-text">å†²çªå¯ä¸²æ€§</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%98%E5%85%88%E5%9B%BE"><span class="nav-number">2.4.</span> <span class="nav-text">ä¼˜å…ˆå›¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E5%8F%AF%E4%B8%B2%E6%80%A7"><span class="nav-number">2.5.</span> <span class="nav-text">è§†å›¾å¯ä¸²æ€§</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%81%E6%9C%BA%E5%88%B6"><span class="nav-number">2.6.</span> <span class="nav-text">é”æœºåˆ¶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E9%98%B6%E6%AE%B5%E9%94%81%EF%BC%882PL%EF%BC%89"><span class="nav-number">2.6.1.</span> <span class="nav-text">ä¸¤é˜¶æ®µé”ï¼ˆ2PLï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#X-Lock"><span class="nav-number">2.6.2.</span> <span class="nav-text">X Lock</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#S-Lock"><span class="nav-number">2.6.3.</span> <span class="nav-text">S Lock</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Update-lock"><span class="nav-number">2.6.4.</span> <span class="nav-text">Update lock</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#S%E9%94%81%E3%80%81X%E9%94%81%E3%80%81Update%E9%94%81%E7%9A%84%E7%9B%B8%E5%AE%B9%E6%80%A7"><span class="nav-number">2.6.5.</span> <span class="nav-text">Sé”ã€Xé”ã€Updateé”çš„ç›¸å®¹æ€§</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="LiJT"
      src="/LiJT-Daily/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">LiJT</p>
  <div class="site-description" itemprop="description">LiJTçš„çµè´¨ç©ºé—´</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/LiJT-Daily/archives/">
        
          <span class="site-state-item-count">48</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/LiJT-Daily/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/LiJT-Daily/tags/">
          
        <span class="site-state-item-count">34</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/CSLiJT" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;CSLiJT" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:785160469@qq.com" title="E-Mail â†’ mailto:785160469@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LiJT</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">88k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">1:20</span>
</div>



        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"0M5QVskfHznsnKEorguvX4Mw-gzGzoHsz","app_key":"itcxMP5f9TIHVoeItjA7Kqob","server_url":"https://0m5qvskf.lc-cn-n1-shared.com","security":false};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/LiJT-Daily/lib/anime.min.js"></script>
  <script src="/LiJT-Daily/lib/velocity/velocity.min.js"></script>
  <script src="/LiJT-Daily/lib/velocity/velocity.ui.min.js"></script>

<script src="/LiJT-Daily/js/utils.js"></script>

<script src="/LiJT-Daily/js/motion.js"></script>


<script src="/LiJT-Daily/js/schemes/pisces.js"></script>


<script src="/LiJT-Daily/js/next-boot.js"></script>




  




  
<script src="/LiJT-Daily/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/LiJT-Daily/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>





  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

  
  
  <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
  </script>
  

</body>
</html>
